--
-- PostgreSQL database dump
--

-- Dumped from database version 16.0
-- Dumped by pg_dump version 16.0

-- Started on 2023-11-28 17:13:34

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 217 (class 1259 OID 16439)
-- Name: car; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.car (
    vin character varying(17) NOT NULL,
    car_number character varying(15) NOT NULL,
    car_brand character varying(50) NOT NULL,
    release_date timestamp(6) without time zone
);


ALTER TABLE public.car OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 16528)
-- Name: car_detail; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.car_detail (
    detail_id character varying(20) NOT NULL,
    title character varying(100) NOT NULL
);


ALTER TABLE public.car_detail OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 16501)
-- Name: car_order; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.car_order (
    order_id bigint NOT NULL,
    client_id integer NOT NULL,
    vin character varying(17) NOT NULL,
    order_date date NOT NULL,
    correction_date date NOT NULL,
    reason character varying(200) NOT NULL,
    detail_id integer,
    employee_id integer NOT NULL
);


ALTER TABLE public.car_order OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 16500)
-- Name: car_order_order_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.car_order ALTER COLUMN order_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.car_order_order_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 216 (class 1259 OID 16433)
-- Name: client; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.client (
    client_id integer NOT NULL,
    full_name character varying(100) NOT NULL,
    phone character(12) NOT NULL
);


ALTER TABLE public.client OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 16432)
-- Name: client_client_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.client ALTER COLUMN client_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.client_client_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 16451)
-- Name: employee; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.employee (
    employee_id integer NOT NULL,
    full_name character varying(100) NOT NULL,
    birth_date date NOT NULL,
    address character varying(200) NOT NULL,
    phone character(12) NOT NULL,
    post character varying(100) NOT NULL,
    salary character varying(10) NOT NULL,
    experience character varying(10) NOT NULL,
    bonus_salary character varying(10) NOT NULL,
    operating_mode character varying(50) NOT NULL
);


ALTER TABLE public.employee OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 16450)
-- Name: employee_employee_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.employee ALTER COLUMN employee_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.employee_employee_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4864 (class 0 OID 16439)
-- Dependencies: 217
-- Data for Name: car; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.car (vin, car_number, car_brand, release_date) VALUES ('xta2030402', 'x001xx36
', 'mercedes cls
', NULL);


--
-- TOC entry 4869 (class 0 OID 16528)
-- Dependencies: 222
-- Data for Name: car_detail; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4868 (class 0 OID 16501)
-- Dependencies: 221
-- Data for Name: car_order; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4863 (class 0 OID 16433)
-- Dependencies: 216
-- Data for Name: client; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4866 (class 0 OID 16451)
-- Dependencies: 219
-- Data for Name: employee; Type: TABLE DATA; Schema: public; Owner: postgres
--



--
-- TOC entry 4875 (class 0 OID 0)
-- Dependencies: 220
-- Name: car_order_order_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.car_order_order_id_seq', 1, true);


--
-- TOC entry 4876 (class 0 OID 0)
-- Dependencies: 215
-- Name: client_client_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.client_client_id_seq', 1, false);


--
-- TOC entry 4877 (class 0 OID 0)
-- Dependencies: 218
-- Name: employee_employee_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.employee_employee_id_seq', 1, false);


--
-- TOC entry 4715 (class 2606 OID 16532)
-- Name: car_detail car_detail_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.car_detail
    ADD CONSTRAINT car_detail_pkey PRIMARY KEY (detail_id);


--
-- TOC entry 4713 (class 2606 OID 16505)
-- Name: car_order car_order_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.car_order
    ADD CONSTRAINT car_order_pkey PRIMARY KEY (order_id);


--
-- TOC entry 4709 (class 2606 OID 16443)
-- Name: car car_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.car
    ADD CONSTRAINT car_pkey PRIMARY KEY (vin);


--
-- TOC entry 4707 (class 2606 OID 16437)
-- Name: client client_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.client
    ADD CONSTRAINT client_pkey PRIMARY KEY (client_id);


--
-- TOC entry 4711 (class 2606 OID 16457)
-- Name: employee employee_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee
    ADD CONSTRAINT employee_pkey PRIMARY KEY (employee_id);


--
-- TOC entry 4716 (class 2606 OID 16506)
-- Name: car_order car_order_client_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.car_order
    ADD CONSTRAINT car_order_client_id_fkey FOREIGN KEY (client_id) REFERENCES public.client(client_id);


--
-- TOC entry 4717 (class 2606 OID 16521)
-- Name: car_order car_order_employee_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.car_order
    ADD CONSTRAINT car_order_employee_id_fkey FOREIGN KEY (employee_id) REFERENCES public.employee(employee_id);


--
-- TOC entry 4718 (class 2606 OID 16511)
-- Name: car_order car_order_vin_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.car_order
    ADD CONSTRAINT car_order_vin_fkey FOREIGN KEY (vin) REFERENCES public.car(vin);


-- Completed on 2023-11-28 17:13:35

--
-- PostgreSQL database dump complete
--

